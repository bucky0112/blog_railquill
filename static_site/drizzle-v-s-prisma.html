<!-- BEGIN app/views/layouts/static.html.erb --><!DOCTYPE html>
<html lang="en">
  <head>
    <title>Drizzle v.s Prisma - Bucky Chu | Railquill</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    
    <!-- SEO: Allow search engine indexing -->
    <meta name="robots" content="index, follow">
    
      <meta name="description" content="比較 Prisma 跟 Drizzle 兩個 ORM 的一些差異。">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:site_name" content="Bucky Chu | Railquill">
    <meta property="og:url" content="https://railquill.vercel.app/drizzle-v-s-prisma.html">
      <meta property="og:type" content="article">
      <meta property="og:title" content="Drizzle v.s Prisma">
      <meta property="og:description" content="比較 Prisma 跟 Drizzle 兩個 ORM 的一些差異。">
      <meta property="og:image" content="/og-image.png">
      
      <!-- Twitter -->
      <meta property="twitter:card" content="summary_large_image">
      <meta property="twitter:title" content="Drizzle v.s Prisma">
      <meta property="twitter:description" content="比較 Prisma 跟 Drizzle 兩個 ORM 的一些差異。">
      <meta property="twitter:image" content="/og-image.png">
      
      <!-- Article specific meta tags -->
      <meta property="article:published_time" content="2024-12-19T10:55:45Z">
      <meta property="article:modified_time" content="2025-09-19T17:23:22Z">
      <meta property="article:author" content="Bucky Chu">
      <meta name="author" content="Bucky Chu">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {"@context":"https://schema.org","@graph":[{"@type":"WebSite","name":"Bucky Chu | Railquill","url":null,"description":"From web applications to mobile apps and indie games, I love building across different platforms.  \r\nThis blog, built on **Railquill**, is my space to share insights, experiments, and the craft of writing clean, maintainable, and impactful software.\r\n","publisher":{"@type":"Organization","name":"Bucky Chu | Railquill","url":null,"logo":{"@type":"ImageObject","url":"/favicon.ico"},"contactPoint":{"@type":"ContactPoint","email":"bucky0112@gmail.com","contactType":"customer support"},"sameAs":["https://github.com/bucky0112/railquill","https://x.com/bucky0112"]}},{"@type":"Article","headline":"Drizzle v.s Prisma","description":"比較 Prisma 跟 Drizzle 兩個 ORM 的一些差異。","url":"https://railquill.vercel.app/drizzle-v-s-prisma.html","datePublished":"2024-12-19T10:55:45Z","dateModified":"2025-09-19T17:23:22Z","author":{"@type":"Person","name":"Bucky Chu","url":"https://github.com/bucky0112"},"publisher":{"@type":"Organization","name":"Bucky Chu | Railquill","url":null,"logo":{"@type":"ImageObject","url":"/favicon.ico"},"contactPoint":{"@type":"ContactPoint","email":"bucky0112@gmail.com","contactType":"customer support"},"sameAs":["https://github.com/bucky0112/railquill","https://x.com/bucky0112"]},"mainEntityOfPage":{"@type":"WebPage","@id":"https://railquill.vercel.app/drizzle-v-s-prisma.html"},"articleBody":"目前的 JavaScript 的生態圈中，有很多出色的 SQL ORM，這些 ORM 都是為了幫助開發者能夠有更好的開發體驗，而新的 2024 JavaScript Rising Stars 榜單出爐了，這篇文章將會來介紹 Prisma 跟 Drizzle 這兩個熱門的 ORM，並且比較兩者有什麼差異。\n\n安裝比較\n\n這篇文章將會以 Express 來做安裝 ORM 的比較，並且只以 JavaScript 而不是 TypeScript。\n\n一開始的 Express 專案是以最簡易的架構來安裝，現在 Express 的架構大概是這樣：\n\n├── 📜 package-lock.json\n├── 📜 package.json\n└── 📂 src\n    └── 📜 index.js\n\n\n現在的 index.js 這樣可以拿到 Hello World：\n\nconst express = require(\"express\");\nconst app = express();\n\napp.get(\"/\", (req, res) =\u0026gt; {\n  res.send(\"Hello World\");\n});\n\napp.listen(3000, () =\u0026gt; {\n  console.log(\"Server is running on port 3000\");\n});\n\n\nDrizzle\n\n先從 Drizzle 的安裝開始，drizzle 支援許多資料庫，像是 PostgreSQL 和 MySQL 都有，這次會使用 PostgreSQL 的方式。\n\n1. 安裝 drizzle 和 pg\n\n這裡可以直接按照官網的方式來安裝：\n\nnpm i drizzle-orm pg\nnpm i -D drizzle-kit @types/pg\n\n\n2. 連接資料庫\n\n接下來在專案中新增一個 .env 的環境變數，裡面可以連接 PG 的 database，例如：\n\nDATABASE_URL=postgresql://postgres:postgres@localhost:5432/drizzle_database\n\n\n安裝 dotenv 來處理環境變數：\n\nnpm i dotenv\n\n\n然後使用 drizzle 連接 PG：\n\nconst express = require(\"express\");\nconst app = express();\nconst dotenv = require(\"dotenv\");\nconst { drizzle } = require(\"drizzle-orm/node-postgres\");\nconst { Pool } = require(\"pg\");\ndotenv.config();\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL\n});\n\nconst db = drizzle(pool);\n\n\n3. 新增 table\n\n這裡的例子是從零開始，所以我們需要自己建立一個 schema，建議在 src 資料夾底下新增一個資料夾，命名為 db，並新增一個檔案 schema.ts：\n\nconst { integer, pgTable, varchar, text, timestamp } = require('drizzle-orm/pg-core');\n\nconst usersTable = pgTable('users', {\n  id: integer().primaryKey().generatedAlwaysAsIdentity(),\n  name: varchar({ length: 50 }).notNull(),\n  age: integer().notNull(),\n  email: varchar({ length: 255 }).notNull().unique(),\n  created_at: timestamp().defaultNow(),\n  address: varchar({ length: 255 }).notNull()\n});\n\nconst postsTable = pgTable('posts', {\n  id: integer().primaryKey().generatedAlwaysAsIdentity(),\n  title: varchar({ length: 100 }).notNull(),\n  content: text().notNull(),\n  user_id: integer().references(() =\u0026gt; usersTable.id),\n  created_at: timestamp().defaultNow(),\n})\n\nmodule.exports = {\n  usersTable,\n  postsTable\n};\n\n\n這裡我們試著建立 users 和 posts 的資料表，如果要使用各種資料庫的型別，必須從 drizzle 裡面取得相關的 function，例如 integer，就要使用 integer()。然後要設定關聯的話，例如 posts 跟 users 有關聯，可以在 postsTable 的 user_id 設定 integer()，並使用它裡面的 `references()\n\n4. 設定 Drizzle config\n\n設定完資料的 schema 之後，還需要讓 Drizzle 知道這個專案有哪些 schema，還有連結什麼資料庫，並且設定之後 migration 產生的檔案會產生在哪裡。\n\n所以我們需要在根目錄新增一個 drizzle.config.js：\n\nconst dotenv = require(\"dotenv\");\nconst { defineConfig } = require('drizzle-kit');\n\ndotenv.config();\n\nmodule.exports = defineConfig({\n  out: './drizzle',\n  schema: './src/db/schema.js',\n  dialect: 'postgresql',\n  dbCredentials: {\n    url: process.env.DATABASE_URL\n  }\n});\n\n\n5. 更新資料庫\n\n執行 generate 之後，就會在專案中建立一個 drizzle 的資料夾，並且自動新增一些 sql 的檔案。\n\nnpx drizzle-kit generate\n\n\n接下來需要透過 ORM 去更新 PG 資料庫：\n\nnpx drizzle-kit migrate\n\n\n接下來可以檢查 PG 資料庫，應該就可以看到資料庫新增 users 和 posts 的 table。\n\nPrisma\n\nPrisma 的部分，一樣是沿用 Drizzle 所使用的 Express 架構，或者是要重新建立一個也可以。\n\n1. 安裝 Prisma\n\n首先第一步，就是安裝 Prisma ORM：\n\nnpm install prisma @prisma/client\n\n\n這一步安裝，跟 Drizzle 不一樣的是，它會幫專案自動產生 .env 和 prisma 的資料夾，而且裡面自動產生一個 schema.prisma 的特殊檔案，並且預設是連結 postgresql 的設定，當然 Prisma 也提供了很多不同資料庫，有興趣的朋友可以再考慮切換。\n\n2. 連接資料庫\n\n接下來要連接資料庫，就在 Prisma 幫我們產生的 .env 環境變數中接上資料庫位置。\n\n3. 新增 table\n\n前面的步驟在 prisma 的資料夾中，產生了一個 schema.prisma 的檔案，這個檔案如名稱所示，就是拿來放資料庫的 schema，如果是按照前面的 users 和 posts 兩個 table 架構的話，會是這樣：\n\nmodel posts {\n  id         Int       @id @default(autoincrement())\n  title      String    @db.VarChar(100)\n  content    String\n  user_id    Int?\n  created_at DateTime? @default(now()) @db.Timestamp(6)\n  users      users?    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: \"posts_user_id_users_id_fk\")\n}\n\nmodel users {\n  id         Int       @id @default(autoincrement())\n  name       String    @db.VarChar(50)\n  age        Int\n  email      String    @unique(map: \"users_email_unique\") @db.VarChar(255)\n  created_at DateTime? @default(now()) @db.Timestamp(6)\n  address    String    @db.VarChar(255)\n  posts      posts[]\n}\n\n\n4. 更新資料庫\n\n建立完 table 的架構之後，要執行 migrate 讓本地的資料庫做更新：\n\nnpx prisma migrate dev --name \"init\"\n\n\n執行完之後，就會在 prisma 資料夾裡面產生 migrations 的紀錄，並且 postgresql 的資料庫也會新增相對應的 table。\n\n實作 API\n\n以上是安裝兩種 ORM 的差別，接下來我們來試著在 Express 上實作 API，做新增跟讀取 USER 的功能。\n首先我們先看 Drizzle 的做法：\n\nDrizzle\n\n// index.js\n\nconst { usersTable, postsTable } = require(\"./db/schema\");\n\napp.use(express.json());\n\napp.get(\"/users\", async (req, res) =\u0026gt; {\n  const users = await db.select().from(usersTable);\n  res.json(users);\n});\n\napp.post(\"/users\", async (req, res) =\u0026gt; {\n  const user = await db.insert(usersTable).values({\n    name: req.body.name,\n    age: req.body.age,\n    email: req.body.email,\n    address: req.body.address\n  });\n  res.status(201).json({ message: \"新增成功\" });\n});\n\napp.post(\"/posts\", async (req, res) =\u0026gt; {\n  const post = await db.insert(postsTable).values({\n    title: req.body.title,\n    content: req.body.content,\n    user_id: req.body.user_id\n  });\n  res.status(201).json({ message: \"新增成功\" });\n});\n\napp.get(\"/posts\", async (req, res) =\u0026gt; {\n  const posts = await db.select().from(postsTable);\n  res.json(posts);\n});\n\n\n記得要使用 express.json() 不然會沒辦法正確新增 JSON 的格式。\n接下來沒意外的話應該就可以正常使用 user 和 posts 的新增和讀取 API 了。\n\nPrisma\n\nPrisma ORM 的方式，會需要透過 PrismaClient 來建立一個實例，並且透過它在我們設定的架構下，分別去做資料庫的操作。\n\nconst express = require(\"express\");\nconst app = express();\nconst dotenv = require(\"dotenv\");\ndotenv.config();\nconst { PrismaClient } = require(\"@prisma/client\");\n\nconst prisma = new PrismaClient();\n\napp.use(express.json());\n\napp.get(\"/users\", async (req, res) =\u0026gt; {\n  const users = await prisma.users.findMany();\n  res.json(users);\n});\n\napp.post(\"/users\", async (req, res) =\u0026gt; {\n  const user = await prisma.users.create({\n    data: {\n      name: req.body.name,\n      age: req.body.age,\n      email: req.body.email,\n      address: req.body.address\n    }\n  });\n  res.status(201).json({ message: \"User created\" });\n});\n\napp.get(\"/posts\", async (req, res) =\u0026gt; {\n  const posts = await prisma.posts.findMany();\n  res.json(posts);\n});\n\napp.post(\"/posts\", async (req, res) =\u0026gt; {\n  const post = await prisma.posts.create({\n    data: {\n      title: req.body.title,\n      content: req.body.content,\n      user_id: req.body.user_id\n    }\n  });\n  res.status(201).json({ message: \"Post created\" });\n});\n\napp.listen(3000, () =\u0026gt; {\n  console.log(\"Server is running on port 3000\");\n});\n\n\n比較\n\n安裝\n\n安裝以及設定的部分，在 Prisma 比較簡單，只要下一個指令，就會自動在專案中自動建立一些檔案，例如 schema 以及相關的設定檔；相反 Drizzle 就稍微比較麻煩一點。\n\nschema\n\n兩邊在 schema 的使用各有優缺點：\n\nPrisma\n\n\n優點：有一個獨有的檔案來管理，視覺上方便閱讀，對於 table 的架構一目了然，型別以及是否必填也蠻清楚。\n\n\n\n\n\n缺點：不太好撰寫，如果是想要在 schema.prisma 手寫的話有點學習成本，需要按照 Prisma 特有的語法去寫。\n\n\nDrizzle\n\n\n優點：寫法就是一般的 JS，而且跟原本的 SQL 非常相似，學習成本比較低。\n\n\n\n\n\n缺點： 架構上跟 Prisma 相比，比較沒這麼好閱讀，但熟悉 JS 的開發者應該也能很快上手。\n\n\n操作\n\n在操作上，Drizzle 跟原本 SQL 語法非常類似，這對於熟悉 SQL 的開發者來說，是一個巨大的優勢。\n\n\n\nPrisma 有自己的方法，所以勢必要學習一下，可能會有一些陣痛期。\n\n\n\n結論\n\n以目前的 JS 生態來說，兩個 ORM 都是很棒的工具。Prisma 目前在 GitHub 擁有 40.7k 的星星數，而 Drizzle 則是擁有 25.7k 的星星數。\n而且目前兩者的下載量明顯有一些差距，代表著 Prisma 是比較熱門的選項。\n\n\n\n圖片來源 npm trends\n\n\n但 Drizzle 其實是非常年輕的 ORM，根據 Drizzle 官網頁面顯示，最早是在 2022 年 7 月推出。在這之前的 JavaScript Rising Stars 報告中，都是 Prisma 在這個榜單上，Drizzle 出現之後就看似取代了 Prisma 了，是一個可以觀察並且參考的部分。\n\n在開發選擇的情境上，如果團隊比較熟悉 SQL 的話，那麼選擇 Drizzle 是一個比較好的選擇，如果說想要有比較完整的工具鏈，那麼可以考慮選擇 Prisma。\n","wordCount":834,"timeRequired":"PT5M"}]}
    </script>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://railquill.vercel.app/drizzle-v-s-prisma.html">
    
    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
    
    <style>
      /* Design System CSS Variables */
      :root {
        /* Brand Colors */
        --primary-50: #EEF2FF;
        --primary-100: #E0E7FF;
        --primary-200: #C7D2FE;
        --primary-300: #A5B4FC;
        --primary-400: #818CF8;
        --primary-500: #6366F1;
        --primary-600: #4F46E5;
        --primary-700: #4338CA;
        --primary-800: #3730A3;
        --primary-900: #312E81;

        /* Neutral Colors */
        --gray-50: #F9FAFB;
        --gray-100: #F3F4F6;
        --gray-200: #E5E7EB;
        --gray-300: #D1D5DB;
        --gray-400: #9CA3AF;
        --gray-500: #6B7280;
        --gray-600: #4B5563;
        --gray-700: #374151;
        --gray-800: #1F2937;
        --gray-900: #111827;

        /* Semantic Colors */
        --success: #059669;
        --success-light: #D1FAE5;
        --warning: #D97706;
        --warning-light: #FEF3C7;
        --error: #DC2626;
        --error-light: #FEE2E2;
        --info: #2563EB;
        --info-light: #DBEAFE;
        
        /* Typography */
        --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        --font-serif: 'Lora', Georgia, 'Times New Roman', serif;
        --font-mono: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
        
        /* Type Scale */
        --text-xs: 0.75rem;
        --text-sm: 0.875rem;
        --text-base: 1rem;
        --text-lg: 1.125rem;
        --text-xl: 1.25rem;
        --text-2xl: 1.5rem;
        --text-3xl: 1.875rem;
        --text-4xl: 2.25rem;
        --text-5xl: 3rem;
        --text-6xl: 3.75rem;
        
        /* Line Heights */
        --leading-none: 1;
        --leading-tight: 1.25;
        --leading-snug: 1.375;
        --leading-normal: 1.5;
        --leading-relaxed: 1.625;
        --leading-loose: 2;
        
        /* Letter Spacing */
        --tracking-tighter: -0.05em;
        --tracking-tight: -0.025em;
        --tracking-normal: 0;
        --tracking-wide: 0.025em;
        --tracking-wider: 0.05em;
        --tracking-widest: 0.1em;
        
        /* Spacing */
        --space-px: 1px;
        --space-0: 0;
        --space-1: 0.25rem;
        --space-2: 0.5rem;
        --space-3: 0.75rem;
        --space-4: 1rem;
        --space-5: 1.25rem;
        --space-6: 1.5rem;
        --space-8: 2rem;
        --space-10: 2.5rem;
        --space-12: 3rem;
        --space-16: 4rem;
        --space-20: 5rem;
        --space-24: 6rem;
        
        /* Transitions */
        --ease-linear: linear;
        --ease-in: cubic-bezier(0.4, 0, 1, 1);
        --ease-out: cubic-bezier(0, 0, 0.2, 1);
        --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      /* Reset and base styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: var(--font-sans);
        line-height: 1.6;
        color: var(--gray-900);
        background: #fff;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      /* Container */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }
      
      .container-narrow {
        max-width: 680px;
        margin: 0 auto;
        padding: 0 1.5rem;
      }
      
      /* Header */
      header {
        background: #fff;
        border-bottom: 1px solid var(--gray-100);
        padding: 1.5rem 0;
        position: sticky;
        top: 0;
        z-index: 100;
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.9);
      }
      
      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      header h1 {
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: -0.025em;
      }
      
      header a {
        color: var(--gray-900);
        text-decoration: none;
        transition: color 0.2s;
      }
      
      header a:hover {
        color: var(--primary-600);
      }
      
      header a:focus {
        color: var(--primary-600);
        outline: 2px solid var(--primary-500);
        outline-offset: 2px;
      }
      
      .header-nav {
        display: flex;
        gap: 2rem;
        align-items: center;
      }
      
      .header-nav a {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--gray-700);
      }
      
      /* Main content */
      main {
        min-height: calc(100vh - 200px);
        padding: 3rem 0;
      }
      
      /* Hero Section */
      /* Hero Section */
      .hero {
        text-align: center;
        padding: var(--space-16) 0;
        margin-bottom: var(--space-16);
        background: linear-gradient(135deg, var(--gray-50) 0%, #fff 100%);
        border-radius: 1rem;
        position: relative;
        overflow: hidden;
      }
      
      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(circle at 30% 20%, var(--primary-100) 0%, transparent 50%), 
                    radial-gradient(circle at 80% 80%, var(--primary-50) 0%, transparent 50%);
        opacity: 0.5;
        z-index: 1;
      }
      
      .hero > * {
        position: relative;
        z-index: 2;
      }
      
      .hero h2 {
        font-size: var(--text-5xl);
        font-weight: 700;
        letter-spacing: var(--tracking-tight);
        margin-bottom: var(--space-4);
        background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-500) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: var(--leading-tight);
      }
      
      .hero p {
        font-size: var(--text-xl);
        color: var(--gray-600);
        max-width: 600px;
        margin: 0 auto;
        line-height: var(--leading-relaxed);
      }
      
      /* Article styles */
      article {
        margin-bottom: 3rem;
      }
      
      article h1 {
        font-size: 3rem;
        margin-bottom: 1.5rem;
        line-height: 1.1;
        letter-spacing: -0.025em;
        font-weight: 800;
      }
      
      article h2 {
        font-size: 2rem;
        margin: 3rem 0 1.5rem;
        font-weight: 700;
        letter-spacing: -0.025em;
      }
      
      article h3 {
        font-size: 1.5rem;
        margin: 2rem 0 1rem;
        font-weight: 600;
      }
      
      article p {
        margin-bottom: 1.5rem;
        font-family: var(--font-serif);
        font-size: 1.125rem;
        line-height: 1.75;
        color: var(--gray-700);
      }
      
      article a {
        color: var(--primary-600);
        text-decoration: none;
        border-bottom: 1px solid transparent;
        transition: border-color 0.2s;
      }
      
      article a:hover {
        border-bottom-color: var(--primary-600);
      }
      
      article a:focus {
        border-bottom-color: var(--primary-600);
        outline: 2px solid var(--primary-500);
        outline-offset: 2px;
      }
      
      /* Drop cap for article content */
      .post-content > p:first-of-type::first-letter {
        float: left;
        font-size: 4rem;
        line-height: 3.5rem;
        padding-right: var(--space-2);
        margin-top: -0.25rem;
        font-weight: 700;
        color: var(--primary-600);
        font-family: var(--font-serif);
      }
      
      article code {
        background: var(--gray-100);
        padding: 0.125em 0.375em;
        border-radius: 0.25rem;
        font-family: var(--font-mono);
        font-size: 0.875em;
        color: var(--gray-900);
      }
      
      article pre {
        background: var(--gray-900);
        color: var(--gray-100);
        padding: 1.5rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        margin: 2rem 0;
        position: relative;
      }
      
      article pre code {
        background: none;
        padding: 0;
        color: inherit;
        font-size: 0.875rem;
        line-height: 1.7;
      }
      
      /* Enhanced syntax highlighting for common languages */
      .highlight .c { color: #6B7280; font-style: italic; } /* Comment */
      .highlight .k { color: #7C3AED; font-weight: bold; } /* Keyword */
      .highlight .s { color: #059669; } /* String */
      .highlight .mi { color: #DC2626; } /* Number */
      .highlight .nf { color: #2563EB; } /* Function */
      .highlight .nc { color: #7C2D12; font-weight: bold; } /* Class */
      .highlight .na { color: #B45309; } /* Attribute */
      .highlight .nb { color: #7C3AED; } /* Built-in */
      .highlight .err { color: #DC2626; background: var(--error-light); } /* Error */
      
      article blockquote {
        border-left: 4px solid var(--primary-600);
        padding-left: 1.5rem;
        margin: 2rem 0;
        font-style: italic;
        color: var(--gray-700);
      }
      
      article blockquote p {
        font-size: 1.25rem;
      }
      
      article ul, article ol {
        margin-bottom: 1.5rem;
        padding-left: 2rem;
        font-family: var(--font-serif);
      }
      
      article li {
        margin-bottom: 0.5rem;
        font-size: 1.125rem;
        line-height: 1.75;
        color: var(--gray-700);
      }
      
      article table {
        width: 100%;
        border-collapse: collapse;
        margin: 2rem 0;
        font-size: 0.875rem;
      }
      
      article th, article td {
        padding: 0.75rem;
        border-bottom: 1px solid var(--gray-200);
        text-align: left;
      }
      
      article th {
        background: var(--gray-50);
        font-weight: 600;
        color: var(--gray-900);
        font-family: var(--font-sans);
      }
      
      article tbody tr:hover {
        background: var(--gray-50);
      }
      
      /* Article images - responsive sizing */
      article img {
        max-width: 100%;
        height: auto;
        margin: 2rem 0;
        border-radius: 0.5rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      
      article img:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      }
      
      /* Center images in paragraphs */
      article p img {
        display: block;
        margin: 2rem auto;
      }
      
      /* Article iframes - responsive embedded content */
      article iframe {
        max-width: 100%;
        width: 100%;
        height: 400px;
        min-height: 300px;
        margin: 2rem 0;
        border-radius: 0.5rem;
        border: 1px solid var(--gray-200);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
      }
      
      article iframe:hover {
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      }
      
      /* Responsive iframe heights for different screen sizes */
      @media (min-width: 768px) {
        article iframe {
          height: 500px;
        }
      }
      
      /* Post meta */
      .post-meta {
        display: flex;
        align-items: center;
        gap: 1rem;
        color: var(--gray-500);
        margin-bottom: 2rem;
        font-size: 0.875rem;
        font-weight: 500;
        flex-wrap: wrap;
      }
      
      .post-meta-divider {
        width: 4px;
        height: 4px;
        background: var(--gray-500);
        border-radius: 50%;
      }
      
      /* Post grid */
      .post-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: var(--space-8);
        margin-bottom: var(--space-12);
      }
      
      /* Card Component */
      .post-card {
        background: white;
        border-radius: 0.75rem;
        overflow: hidden;
        border: 1px solid var(--gray-100);
        transition: all 0.3s var(--ease-out);
        display: flex;
        flex-direction: column;
        height: 100%;
      }
      
      .post-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px -10px rgba(0, 0, 0, 0.1);
        border-color: var(--gray-200);
      }
      
      .post-card-image {
        aspect-ratio: 16/9;
        overflow: hidden;
        background: var(--gray-100);
      }
      
      .post-card-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
      }
      
      .post-card:hover .post-card-image img {
        transform: scale(1.05);
      }
      
      .post-card-content {
        padding: 1.5rem;
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      
      .post-card h2 {
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
        font-weight: 700;
        letter-spacing: -0.025em;
        line-height: 1.4;
      }
      
      .post-card a {
        color: var(--gray-900);
        text-decoration: none;
      }
      
      .post-card a:hover {
        color: var(--primary-600);
      }
      
      .post-excerpt {
        color: var(--gray-600);
        margin: 0.75rem 0;
        font-size: 0.875rem;
        line-height: 1.6;
        flex: 1;
      }
      
      .post-card-meta {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--gray-500);
        font-size: 0.75rem;
        font-weight: 500;
      }
      
      /* Post list fallback */
      .post-list {
        list-style: none;
        padding: 0;
      }
      
      .post-list-item {
        padding: 2rem 0;
        border-bottom: 1px solid var(--gray-100);
      }
      
      .post-list-item:last-child {
        border-bottom: none;
      }
      
      /* Featured image */
      .featured-image {
        margin: 0 -1.5rem 3rem;
        position: relative;
      }
      
      .featured-image img {
        width: 100%;
        height: auto;
        max-height: 600px;
        object-fit: cover;
      }
      
      .featured-image-caption {
        text-align: center;
        margin-top: 1rem;
        font-size: 0.875rem;
        color: var(--gray-500);
        font-style: italic;
      }
      
      @media (min-width: 768px) {
        .featured-image {
          margin: 0 0 3rem;
          border-radius: 0.75rem;
          overflow: hidden;
        }
      }
      
      /* Post navigation */
      .post-navigation {
        margin-top: 4rem;
        padding-top: 3rem;
        border-top: 1px solid var(--gray-100);
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
      }
      
      .post-nav-item {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .post-nav-item.prev {
        text-align: left;
      }
      
      .post-nav-item.next {
        text-align: right;
        align-items: flex-end;
      }
      
      .post-nav-label {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--gray-500);
        font-weight: 600;
      }
      
      .post-nav-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--gray-900);
        text-decoration: none;
        transition: color 0.2s;
      }
      
      .post-nav-title:hover {
        color: var(--primary-600);
      }
      
      @media (max-width: 640px) {
        .post-navigation {
          grid-template-columns: 1fr;
        }
      }
      
      /* Footer */
      footer {
        margin-top: 5rem;
        padding: 3rem 0;
        border-top: 1px solid var(--gray-100);
        background: var(--gray-50);
      }
      
      .footer-content {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr;
        gap: 3rem;
        margin-bottom: 2rem;
      }
      
      .footer-section h3 {
        font-size: 0.875rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--gray-900);
        margin-bottom: 1rem;
      }
      
      .footer-section p,
      .footer-section a {
        font-size: 0.875rem;
        color: var(--gray-600);
        text-decoration: none;
        line-height: 1.75;
      }
      
      .footer-section a:hover {
        color: var(--primary-600);
      }
      
      .footer-section ul {
        list-style: none;
        padding: 0;
      }
      
      .footer-section li {
        margin-bottom: 0.5rem;
      }
      
      .footer-bottom {
        text-align: center;
        padding-top: 2rem;
        border-top: 1px solid var(--gray-200);
        color: var(--gray-500);
        font-size: 0.875rem;
      }
      
      @media (max-width: 768px) {
        .footer-content {
          grid-template-columns: 1fr;
          gap: 2rem;
        }
      }
      
      /* Utility classes */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }
      
      /* Loading skeleton */
      .skeleton {
        background: linear-gradient(90deg, var(--gray-100) 25%, var(--gray-200) 50%, var(--gray-100) 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
      }
      
      @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }
      
      /* Component utilities */
      .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-2) var(--space-4);
        font-size: var(--text-sm);
        font-weight: 500;
        line-height: var(--leading-tight);
        border-radius: 0.375rem;
        transition: all 0.2s var(--ease-out);
        cursor: pointer;
        border: 1px solid transparent;
        text-decoration: none;
      }
      
      .btn-primary {
        background: var(--primary-600);
        color: white;
      }
      
      .btn-primary:hover {
        background: var(--primary-700);
        transform: translateY(-1px);
      }
      
      .btn:focus {
        outline: 2px solid var(--primary-500);
        outline-offset: 2px;
      }
      
      .badge {
        display: inline-flex;
        align-items: center;
        padding: 0.25rem 0.75rem;
        font-size: var(--text-xs);
        font-weight: 600;
        line-height: 1rem;
        border-radius: 9999px;
        text-transform: uppercase;
        letter-spacing: var(--tracking-wide);
      }
      
      .badge-primary {
        background: var(--primary-100);
        color: var(--primary-700);
      }
      
      .badge-featured {
        background: linear-gradient(135deg, var(--primary-500), var(--primary-600));
        color: white;
        box-shadow: 0 2px 4px rgba(99, 102, 241, 0.2);
      }
      
      /* Animations */
      @keyframes fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes slide-up {
        from { 
          opacity: 0;
          transform: translateY(1rem);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .animate-fade-in {
        animation: fade-in 0.6s var(--ease-out);
      }
      
      .animate-slide-up {
        animation: slide-up 0.6s var(--ease-out);
      }
      
      /* Responsive utilities */
      @media (max-width: 640px) {
        article h1 { font-size: var(--text-4xl); }
        article h2 { font-size: var(--text-2xl); }
        article h3 { font-size: var(--text-xl); }
        article p { font-size: var(--text-base); }
        .hero h2 { font-size: var(--text-4xl); }
        .hero p { font-size: var(--text-lg); }
        .container { padding: 0 var(--space-4); }
        .container-narrow { padding: 0 var(--space-4); }
        
        /* Ensure minimum font sizes for accessibility */
        body { font-size: 16px; }
        .post-card-meta { font-size: 14px; }
        .footer-section p,
        .footer-section a { font-size: 14px; }
        
        /* Ensure tap targets are at least 44px */
        .btn { min-height: 44px; padding: var(--space-3) var(--space-4); }
        header a { min-height: 44px; display: flex; align-items: center; }
        .post-nav-title { min-height: 44px; display: flex; align-items: center; }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-content">
            <div style="font-size: 1.5rem; font-weight: 700; letter-spacing: -0.025em;"><a href="/" style="color: var(--gray-900); text-decoration: none; transition: color 0.2s;">Bucky Chu | Railquill</a></div>
          <nav class="header-nav">
            <a href="/">Home</a>
            <a href="/about">About</a>
            <a href="/archive">Archive</a>
            <a href="/feed.xml" title="RSS Feed" aria-label="RSS Feed">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
  <path d="M3.75 3a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H4c6.075 0 11 4.925 11 11v.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V16C17 8.82 11.18 3 4 3h-.25Z"></path>
  <path d="M3 8.75A.75.75 0 0 1 3.75 8H4a8 8 0 0 1 8 8v.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75V16a6 6 0 0 0-6-6h-.25A.75.75 0 0 1 3 9.25v-.5ZM7 15a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"></path>
</svg>

              <span class="sr-only">RSS Feed</span>
            </a>
          </nav>
        </div>
      </div>
    </header>
    
    <main>
      <!-- BEGIN app/views/static/post.html.erb --><div class="container-narrow">
  <article class="animate-fade-in">
    <!-- Article Header -->
    <header style="text-align: center; margin-bottom: var(--space-12); padding-top: var(--space-8);">
      <h1 style="font-size: var(--text-5xl); font-weight: 800; line-height: var(--leading-tight); letter-spacing: var(--tracking-tight); margin-bottom: var(--space-6); color: var(--gray-900); max-width: 800px; margin-left: auto; margin-right: auto;">
        Drizzle v.s Prisma
      </h1>
      <div class="post-meta" style="justify-content: center; margin-bottom: var(--space-4);">
        <span style="color: var(--gray-600);">December 19, 2024</span>
          <span class="post-meta-divider"></span>
          <span style="color: var(--gray-600);">5 min read</span>
      </div>
        <p style="font-size: var(--text-xl); color: var(--gray-600); line-height: var(--leading-relaxed); font-style: italic; max-width: 600px; margin: 0 auto; font-family: var(--font-serif);">
          比較 Prisma 跟 Drizzle 兩個 ORM 的一些差異。
        </p>
    </header>
    
    <!-- Featured Image -->
    
    <!-- Article Content -->
    <div class="post-content animate-slide-up" style="animation-delay: 0.4s; font-family: var(--font-serif); font-size: var(--text-lg); line-height: var(--leading-loose); color: var(--gray-800);">
      <p>目前的 JavaScript 的生態圈中，有很多出色的 SQL ORM，這些 ORM 都是為了幫助開發者能夠有更好的開發體驗，而新的 <a href="https://risingstars.js.org/2024/en">2024 JavaScript Rising Stars</a> 榜單出爐了，這篇文章將會來介紹 Prisma 跟 Drizzle 這兩個熱門的 ORM，並且比較兩者有什麼差異。</p>

<h2 id="part-2c5c0dcf4a5ebc39">安裝比較</h2>

<p>這篇文章將會以 Express 來做安裝 ORM 的比較，並且只以 JavaScript 而不是 TypeScript。</p>

<p>一開始的 Express 專案是以最簡易的架構來安裝，現在 Express 的架構大概是這樣：</p>

<pre><code>├── 📜 package-lock.json
├── 📜 package.json
└── 📂 src
    └── 📜 index.js
</code></pre>

<p>現在的 <code>index.js</code> 這樣可以拿到 Hello World：</p>

<pre><code class="js">const express = require("express");
const app = express();

app.get("/", (req, res) =&gt; {
  res.send("Hello World");
});

app.listen(3000, () =&gt; {
  console.log("Server is running on port 3000");
});
</code></pre>

<h3 id="drizzle">Drizzle</h3>

<p>先從 Drizzle 的安裝開始，drizzle 支援許多資料庫，像是 PostgreSQL 和 MySQL 都有，這次會使用 PostgreSQL 的方式。</p>

<h4 id="1-drizzle-pg">1. 安裝 drizzle 和 pg</h4>

<p>這裡可以直接按照官網的方式來安裝：</p>

<pre><code class="bash">npm i drizzle-orm pg
npm i -D drizzle-kit @types/pg
</code></pre>

<h4 id="2">2. 連接資料庫</h4>

<p>接下來在專案中新增一個 <code>.env</code> 的環境變數，裡面可以連接 PG 的 database，例如：</p>

<pre><code>DATABASE_URL=postgresql://postgres:postgres@localhost:5432/drizzle_database
</code></pre>

<p>安裝 dotenv 來處理環境變數：</p>

<pre><code class="bash">npm i dotenv
</code></pre>

<p>然後使用 drizzle 連接 PG：</p>

<pre><code class="javascript">const express = require("express");
const app = express();
const dotenv = require("dotenv");
const { drizzle } = require("drizzle-orm/node-postgres");
const { Pool } = require("pg");
dotenv.config();

const pool = new Pool({
  connectionString: process.env.DATABASE_URL
});

const db = drizzle(pool);
</code></pre>

<h4 id="3-table">3. 新增 table</h4>

<p>這裡的例子是從零開始，所以我們需要自己建立一個 schema，建議在 src 資料夾底下新增一個資料夾，命名為 <code>db</code>，並新增一個檔案 <code>schema.ts</code>：</p>

<pre><code class="javascript">const { integer, pgTable, varchar, text, timestamp } = require('drizzle-orm/pg-core');

const usersTable = pgTable('users', {
  id: integer().primaryKey().generatedAlwaysAsIdentity(),
  name: varchar({ length: 50 }).notNull(),
  age: integer().notNull(),
  email: varchar({ length: 255 }).notNull().unique(),
  created_at: timestamp().defaultNow(),
  address: varchar({ length: 255 }).notNull()
});

const postsTable = pgTable('posts', {
  id: integer().primaryKey().generatedAlwaysAsIdentity(),
  title: varchar({ length: 100 }).notNull(),
  content: text().notNull(),
  user_id: integer().references(() =&gt; usersTable.id),
  created_at: timestamp().defaultNow(),
})

module.exports = {
  usersTable,
  postsTable
};
</code></pre>

<p>這裡我們試著建立 users 和 posts 的資料表，如果要使用各種資料庫的型別，必須從 drizzle 裡面取得相關的 function，例如 integer，就要使用 <code>integer()</code>。然後要設定關聯的話，例如 posts 跟 users 有關聯，可以在 postsTable 的 user_id 設定 <code>integer()</code>，並使用它裡面的 `references()</p>

<h4 id="4-drizzle-config">4. 設定 Drizzle config</h4>

<p>設定完資料的 schema 之後，還需要讓 Drizzle 知道這個專案有哪些 schema，還有連結什麼資料庫，並且設定之後 migration 產生的檔案會產生在哪裡。</p>

<p>所以我們需要在根目錄新增一個 <code>drizzle.config.js</code>：</p>

<pre><code class="javascript">const dotenv = require("dotenv");
const { defineConfig } = require('drizzle-kit');

dotenv.config();

module.exports = defineConfig({
  out: './drizzle',
  schema: './src/db/schema.js',
  dialect: 'postgresql',
  dbCredentials: {
    url: process.env.DATABASE_URL
  }
});
</code></pre>

<h4 id="5">5. 更新資料庫</h4>

<p>執行 generate 之後，就會在專案中建立一個 <code>drizzle</code> 的資料夾，並且自動新增一些 sql 的檔案。</p>

<pre><code class="bash">npx drizzle-kit generate
</code></pre>

<p>接下來需要透過 ORM 去更新 PG 資料庫：</p>

<pre><code class="bash">npx drizzle-kit migrate
</code></pre>

<p>接下來可以檢查 PG 資料庫，應該就可以看到資料庫新增 users 和 posts 的 table。</p>

<h3 id="prisma">Prisma</h3>

<p>Prisma 的部分，一樣是沿用 Drizzle 所使用的 Express 架構，或者是要重新建立一個也可以。</p>

<h4 id="1-prisma">1. 安裝 Prisma</h4>

<p>首先第一步，就是安裝 Prisma ORM：</p>

<pre><code class="bash">npm install prisma @prisma/client
</code></pre>

<p>這一步安裝，跟 Drizzle 不一樣的是，它會幫專案自動產生 <code>.env</code> 和 prisma 的資料夾，而且裡面自動產生一個 <code>schema.prisma</code> 的特殊檔案，並且預設是連結 postgresql 的設定，當然 Prisma 也提供了很多不同資料庫，有興趣的朋友可以再考慮切換。</p>

<h4 id="2">2. 連接資料庫</h4>

<p>接下來要連接資料庫，就在 Prisma 幫我們產生的 <code>.env</code> 環境變數中接上資料庫位置。</p>

<h4 id="3-table">3. 新增 table</h4>

<p>前面的步驟在 prisma 的資料夾中，產生了一個 <code>schema.prisma</code> 的檔案，這個檔案如名稱所示，就是拿來放資料庫的 schema，如果是按照前面的 users 和 posts 兩個 table 架構的話，會是這樣：</p>

<pre><code>model posts {
  id         Int       @id @default(autoincrement())
  title      String    @db.VarChar(100)
  content    String
  user_id    Int?
  created_at DateTime? @default(now()) @db.Timestamp(6)
  users      users?    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "posts_user_id_users_id_fk")
}

model users {
  id         Int       @id @default(autoincrement())
  name       String    @db.VarChar(50)
  age        Int
  email      String    @unique(map: "users_email_unique") @db.VarChar(255)
  created_at DateTime? @default(now()) @db.Timestamp(6)
  address    String    @db.VarChar(255)
  posts      posts[]
}
</code></pre>

<h4 id="4">4. 更新資料庫</h4>

<p>建立完 table 的架構之後，要執行 migrate 讓本地的資料庫做更新：</p>

<pre><code class="bash">npx prisma migrate dev --name "init"
</code></pre>

<p>執行完之後，就會在 prisma 資料夾裡面產生 migrations 的紀錄，並且 postgresql 的資料庫也會新增相對應的 table。</p>

<h2 id="api">實作 API</h2>

<p>以上是安裝兩種 ORM 的差別，接下來我們來試著在 Express 上實作 API，做新增跟讀取 USER 的功能。
首先我們先看 Drizzle 的做法：</p>

<h3 id="drizzle">Drizzle</h3>

<pre><code class="javascript">// index.js

const { usersTable, postsTable } = require("./db/schema");

app.use(express.json());

app.get("/users", async (req, res) =&gt; {
  const users = await db.select().from(usersTable);
  res.json(users);
});

app.post("/users", async (req, res) =&gt; {
  const user = await db.insert(usersTable).values({
    name: req.body.name,
    age: req.body.age,
    email: req.body.email,
    address: req.body.address
  });
  res.status(201).json({ message: "新增成功" });
});

app.post("/posts", async (req, res) =&gt; {
  const post = await db.insert(postsTable).values({
    title: req.body.title,
    content: req.body.content,
    user_id: req.body.user_id
  });
  res.status(201).json({ message: "新增成功" });
});

app.get("/posts", async (req, res) =&gt; {
  const posts = await db.select().from(postsTable);
  res.json(posts);
});
</code></pre>

<p>記得要使用 <code>express.json()</code> 不然會沒辦法正確新增 JSON 的格式。
接下來沒意外的話應該就可以正常使用 user 和 posts 的新增和讀取 API 了。</p>

<h3 id="prisma">Prisma</h3>

<p>Prisma ORM 的方式，會需要透過 PrismaClient 來建立一個實例，並且透過它在我們設定的架構下，分別去做資料庫的操作。</p>

<pre><code class="javascript">const express = require("express");
const app = express();
const dotenv = require("dotenv");
dotenv.config();
const { PrismaClient } = require("@prisma/client");

const prisma = new PrismaClient();

app.use(express.json());

app.get("/users", async (req, res) =&gt; {
  const users = await prisma.users.findMany();
  res.json(users);
});

app.post("/users", async (req, res) =&gt; {
  const user = await prisma.users.create({
    data: {
      name: req.body.name,
      age: req.body.age,
      email: req.body.email,
      address: req.body.address
    }
  });
  res.status(201).json({ message: "User created" });
});

app.get("/posts", async (req, res) =&gt; {
  const posts = await prisma.posts.findMany();
  res.json(posts);
});

app.post("/posts", async (req, res) =&gt; {
  const post = await prisma.posts.create({
    data: {
      title: req.body.title,
      content: req.body.content,
      user_id: req.body.user_id
    }
  });
  res.status(201).json({ message: "Post created" });
});

app.listen(3000, () =&gt; {
  console.log("Server is running on port 3000");
});
</code></pre>

<h2 id="part-6542d156155">比較</h2>

<h3 id="part-6542aa814e9">安裝</h3>

<p>安裝以及設定的部分，在 Prisma 比較簡單，只要下一個指令，就會自動在專案中自動建立一些檔案，例如 schema 以及相關的設定檔；相反 Drizzle 就稍微比較麻煩一點。</p>

<h3 id="schema">schema</h3>

<p>兩邊在 schema 的使用各有優缺點：</p>

<h4 id="prisma">Prisma</h4>

<ul>
<li>優點：有一個獨有的檔案來管理，視覺上方便閱讀，對於 table 的架構一目了然，型別以及是否必填也蠻清楚。</li>
</ul>

<p><img src="https://i.imgur.com/P5c3cHr.png" alt=""></p>

<ul>
<li>缺點：不太好撰寫，如果是想要在 <code>schema.prisma</code> 手寫的話有點學習成本，需要按照 Prisma 特有的語法去寫。</li>
</ul>

<h4 id="drizzle">Drizzle</h4>

<ul>
<li>優點：寫法就是一般的 JS，而且跟原本的 SQL 非常相似，學習成本比較低。</li>
</ul>

<p><img src="https://i.imgur.com/boVP7JB.png" alt=""></p>

<ul>
<li>缺點： 架構上跟 Prisma 相比，比較沒這麼好閱讀，但熟悉 JS 的開發者應該也能很快上手。</li>
</ul>

<h3 id="part-6542b16cbc8">操作</h3>

<p>在操作上，Drizzle 跟原本 SQL 語法非常類似，這對於熟悉 SQL 的開發者來說，是一個巨大的優勢。</p>

<p><img src="https://i.imgur.com/dOXHmhL.png" alt=""></p>

<p>Prisma 有自己的方法，所以勢必要學習一下，可能會有一些陣痛期。</p>

<p><img src="https://i.imgur.com/q2sayGl.png" alt=""></p>

<h2 id="part-6542fd4e95a">結論</h2>

<p>以目前的 JS 生態來說，兩個 ORM 都是很棒的工具。Prisma 目前在 GitHub 擁有 40.7k 的星星數，而 Drizzle 則是擁有 25.7k 的星星數。
而且目前兩者的下載量明顯有一些差距，代表著 Prisma 是比較熱門的選項。
<img src="https://i.imgur.com/Lf95O0R.png" alt="npm trends"></p>

<blockquote>
<p>圖片來源 npm trends</p>
</blockquote>

<p>但 Drizzle 其實是非常年輕的 ORM，根據 <a href="https://orm.drizzle.team/docs/latest-releases">Drizzle 官網</a>頁面顯示，最早是在 2022 年 7 月推出。在這之前的 <a href="https://risingstars.js.org/2024/en">JavaScript Rising Stars</a> 報告中，都是 Prisma 在這個榜單上，Drizzle 出現之後就看似取代了 Prisma 了，是一個可以觀察並且參考的部分。</p>

<p>在開發選擇的情境上，如果團隊比較熟悉 SQL 的話，那麼選擇 Drizzle 是一個比較好的選擇，如果說想要有比較完整的工具鏈，那麼可以考慮選擇 Prisma。</p>

    </div>
    
    <!-- Share Section -->
    <div class="animate-slide-up" style="animation-delay: 0.6s; margin-top: var(--space-12); padding: var(--space-8) 0; background: linear-gradient(135deg, var(--gray-50) 0%, white 100%); border-radius: 1rem; border: 1px solid var(--gray-100);">
      <div style="text-align: center;">
        <h3 style="font-size: var(--text-lg); font-weight: 600; color: var(--gray-900); margin-bottom: var(--space-2); font-family: var(--font-sans);">Enjoyed this article?</h3>
        <p style="font-size: var(--text-sm); color: var(--gray-600); margin-bottom: var(--space-6); font-family: var(--font-sans);">Share it with your network and help others discover great content</p>
        <div style="display: flex; justify-content: center; gap: var(--space-3); flex-wrap: wrap;">
          <a href="https://twitter.com/intent/tweet?text=Drizzle+v.s+Prisma&url=https%3A%2F%2Frailquill.vercel.app%2Fdrizzle-v-s-prisma.html" 
             target="_blank" 
             rel="noopener" 
             class="btn"
             aria-label="Share this article on Twitter"
             style="background: #1DA1F2; color: white; border-color: #1DA1F2; transition: all 0.2s var(--ease-out);"
             onmouseover="this.style.background='#1a91da'; this.style.transform='translateY(-1px)';" 
             onmouseout="this.style.background='#1DA1F2'; this.style.transform='translateY(0)';">
            <svg style="width: 1rem; height: 1rem; margin-right: var(--space-2);" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </svg>
            Share on Twitter
          </a>
          <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Frailquill.vercel.app%2Fdrizzle-v-s-prisma.html" 
             target="_blank" 
             rel="noopener" 
             class="btn"
             aria-label="Share this article on LinkedIn"
             style="background: #0077B5; color: white; border-color: #0077B5; transition: all 0.2s var(--ease-out);"
             onmouseover="this.style.background='#005885'; this.style.transform='translateY(-1px)';" 
             onmouseout="this.style.background='#0077B5'; this.style.transform='translateY(0)';">
            <svg style="width: 1rem; height: 1rem; margin-right: var(--space-2);" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
            Share on LinkedIn
          </a>
        </div>
      </div>
    </div>
  </article>
  
  <!-- Post Navigation -->
  <nav class="post-navigation animate-slide-up" style="animation-delay: 0.8s; margin-top: var(--space-16); padding-top: var(--space-12); border-top: 2px solid var(--gray-100);">
      <div class="post-nav-item prev">
        <span class="post-nav-label" style="color: var(--gray-500); font-family: var(--font-sans);">← Previous Post</span>
        <a href="/flutter.html" class="post-nav-title" style="font-family: var(--font-sans);" aria-label="Previous post: 從手把手環境設定到建立第一個 Flutter 專案">
          從手把手環境設定到建立第一個 Flutter 專案
        </a>
      </div>
    
      <div class="post-nav-item next">
        <span class="post-nav-label" style="color: var(--gray-500); font-family: var(--font-sans);">Next Post →</span>
        <a href="/rust-bevy-Raiden.html" class="post-nav-title" style="font-family: var(--font-sans);" aria-label="Next post: 用 Rust + Bevy 打造一個簡化版「雷電」射擊遊戲">
          用 Rust + Bevy 打造一個簡化版「雷電」射擊遊戲
        </a>
      </div>
  </nav>
  
  <!-- Back to Home -->
  <div style="text-align: center; margin-top: var(--space-12); padding-top: var(--space-8); border-top: 1px solid var(--gray-100);">
    <a href="/" class="btn" style="background: var(--gray-100); color: var(--gray-700); border-color: var(--gray-200);" onmouseover="this.style.background='var(--gray-200)'; this.style.transform='translateY(-1px)';" onmouseout="this.style.background='var(--gray-100)'; this.style.transform='translateY(0)';" aria-label="Go back to articles list">
      <div style="width: 1rem; height: 1rem; margin-right: var(--space-2);">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
  <path fill-rule="evenodd" d="M17 10a.75.75 0 0 1-.75.75H5.612l4.158 3.96a.75.75 0 1 1-1.04 1.08l-5.5-5.25a.75.75 0 0 1 0-1.08l5.5-5.25a.75.75 0 1 1 1.04 1.08L5.612 9.25H16.25A.75.75 0 0 1 17 10Z" clip-rule="evenodd"></path>
</svg>

      </div>
      Back to Articles
    </a>
  </div>
</div><!-- END app/views/static/post.html.erb -->
    </main>
    
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>About Bucky Chu | Railquill</h3>
            <p>From web applications to mobile apps and indie games, I love building across different platforms.  
This blog, built...</p>
          </div>
          <div class="footer-section">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/about">About</a></li>
              <li><a href="/archive">Archive</a></li>
              <li><a href="/feed.xml">RSS Feed</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h3>Connect</h3>
            <ul>
              <li><a href="https://x.com/bucky0112" target="_blank" rel="noopener">Twitter</a></li>
              <li><a href="https://github.com/bucky0112/railquill" target="_blank" rel="noopener">GitHub</a></li>
              <li><a href="mailto:bucky0112@gmail.com">Email</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 Bucky Chu | Railquill. Built with Rails and love.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
<!-- END app/views/layouts/static.html.erb -->